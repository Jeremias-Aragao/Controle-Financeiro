{% extends "base.html" %}
{% set title = "Editar lançamento" %}
{% block content %}
<section class="pagehead">
  <div><h1 class="h1">Editar lançamento</h1><p class="muted">Competência: <span class="pill">{{ competencia }}</span></p></div>
  <div class="actions"><a class="btn btn--ghost" href="{{ url_for('mes', competencia=competencia) }}">⬅️ Voltar</a></div>
</section>

<form class="form card" method="post">
  <div class="form__grid">
    <label class="field">
      <span class="field__label">Tipo</span>
      <select name="tipo" required>
        <option value="PASSIVO" {% if l.tipo=='PASSIVO' %}selected{% endif %}>PASSIVO (sai)</option>
        <option value="ATIVO" {% if l.tipo=='ATIVO' %}selected{% endif %}>ATIVO (entra)</option>
      </select>
    </label>

    <label class="field">
      <span class="field__label">Status</span>
      <select name="status" required>
        <option value="PENDENTE" {% if l.status=='PENDENTE' %}selected{% endif %}>PENDENTE</option>
        <option value="BAIXADO" {% if l.status=='BAIXADO' %}selected{% endif %}>BAIXADO</option>
      </select>
    </label>

    <label class="field">
      <span class="field__label">Categoria</span>
      <input name="categoria" value="{{ l.categoria or '' }}" />
    </label>

    <label class="field field--full">
      <span class="field__label">Descrição</span>
      <input name="descricao" value="{{ l.descricao }}" required />
    </label>

    <label class="field">
      <span class="field__label">Data (vencimento/recebimento)</span>
      <input type="date" name="data_evento" value="{{ l.data_evento }}" required />
    </label>

    <label class="field">
      <span class="field__label">Valor</span>
      <input type="number" step="0.01" name="valor" value="{{ l.valor }}" required />
    </label>
  </div>

  <div class="form__actions">
    <button class="btn" type="submit">Salvar</button>
    <a class="btn btn--ghost" href="{{ url_for('mes', competencia=competencia) }}">Cancelar</a>
  </div>
</form>
{% endblock %}
